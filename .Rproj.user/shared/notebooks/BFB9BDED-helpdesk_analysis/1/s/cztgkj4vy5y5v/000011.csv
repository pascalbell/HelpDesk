"0","#| label: multiple/one need"
"0",""
"0","data <- data |>"
"0","  mutate(sum_needs = needs___1 + needs___2 +"
"0","                         needs___3 +"
"0","                         needs___4 +"
"0","                         needs___5 +"
"0","                         needs___6 +"
"0","                         needs___8 +"
"0","                         needs___10 +"
"0","                         needs___11 +"
"0","                         needs___12,"
"0","         num_need = case_when("
"0","           sum_needs == 0 ~ ""No needs"","
"0","           sum_needs == 1 ~ ""One need"","
"0","           sum_needs > 1 ~ ""Multiple needs"""
"0","         ))"
"0","data |>"
"0","  filter(num_need != ""No needs"") |>"
"0","  count(race_txt, num_need) |>"
"0","  filter(race_txt != ""No Answer"","
"0","         race_txt != ""Other"","
"0","         race_txt != ""Native Hawaiian"","
"0","         race_txt != ""Pacific Islander"","
"0","         !is.na(race_txt)) |>"
"0","  mutate(prop = round(100*n/sum(n), 0)) |>"
"0","  ggplot(aes(x = race_txt, y = prop)) +"
"0","  geom_bar(stat = ""identity"", fill = ""lightblue"", color = ""grey"") +"
"0","  facet_wrap(""num_need"") +"
"0","  labs(x = """","
"0","       y = ""Percent"") +"
"0","  coord_flip() +"
"0"," geom_text(aes(label = if_else(n > 50,"
"0","                                paste(prop, "
"0","                                      ""% ("","
"0","                                      n,"
"0","                                      "")"","
"0","                                      sep = """"), """")), "
"0","            hjust = 1, "
"0","            size = 2.5) +"
"0","  geom_text(aes(label = if_else(n < 50,"
"0","                                paste(prop, "
"0","                                      ""% ("","
"0","                                      n,"
"0","                                      "")"","
"0","                                      sep = """"), """")), "
"0","            hjust = -0.25, "
"0","            size = 2.5) +"
"0","  theme(axis.text.y = element_text(size = 10))"
